---
import { useForm, z } from "astro-pwa";
import ServerSPALayout from "../../../layouts/ServerSPALayout.astro";
import Form from "../../../components/astro/Form.astro";

const schema = z.object({
    firstName: z.string(),
    lastName: z.string(),
    email: z.string().email()
})

const form = await useForm('test', { astro: Astro, schema: schema })

if (form.submitting) {
    return form.submit(data => console.log({ data }))
}
---
<ServerSPALayout title="Example client form">
    <Form form={form} />
</ServerSPALayout>