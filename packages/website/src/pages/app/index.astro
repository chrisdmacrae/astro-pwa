---
import Header from "../../components/Header.astro";
import Sidebar from "../../components/Sidebar.astro";
import AppLayout from "../../layouts/AppLayout.astro";

if (!Astro.cookies.get('session').value) {
    return Astro.redirect('/app/login', 302)
}

const title = "Home"
const user = Astro.cookies.get('session').json()
---
<AppLayout title={title}>
    <div class="flex flex-row">
        <Sidebar />
        <main class="basis-full">
            <Header
                heading={`Welcome Back, ${user.first_name}!`}                   
                subheading="Your website has seen a 52% increase in traffic in the last month. Keep it up! ðŸš€"
            />
            <section class="mx-auto max-w-screen-xl px-4 py-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <article class="rounded-lg border border-gray-100 bg-white p-6">
                    <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-500">Lighthouse Performance</p>
                
                        <div class="flex flex-row gap-2 items-end">
                            <p class="text-2xl font-medium text-gray-900">98</p>
                            <div>
                                <div class="inline-flex gap-2 rounded bg-green-100 p-1 text-green-600">
                                    <span class="text-xs font-medium"> from 90 </span>
                                </div>
                            </div>
                        </div>
                    </div>
                
                    <span class="rounded-full bg-blue-100 p-3 text-blue-600">
                        <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-8 w-8"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                        stroke-width="2"
                        >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"
                        />
                        </svg>
                    </span>
                    </div>
                
                    <div class="mt-1 flex gap-1 text-green-600">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                    >
                        <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"
                        />
                    </svg>
                
                    <p class="flex gap-2 text-xs">
                        <span class="font-medium"> 8.51% </span>
                
                        <span class="text-gray-500"> Since last week </span>
                    </p>
                    </div>
                </article>
                
                <article class="rounded-lg border border-gray-100 bg-white p-6">
                    <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-500">Lighthouse SEO</p>
                
                        <div class="flex flex-row gap-2 items-end">
                            <p class="text-2xl font-medium text-gray-900">98</p>
                            <div>
                                <div class="inline-flex gap-2 rounded bg-red-100 p-1 text-red-600">
                                    <span class="text-xs font-medium"> from 100 </span>
                                </div>
                            </div>
                        </div>
                    </div>
                
                    <span class="rounded-full bg-blue-100 p-3 text-blue-600">
                        <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-8 w-8"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                        stroke-width="2"
                        >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"
                        />
                        </svg>
                    </span>
                    </div>
                
                    <div class="mt-1 flex gap-1 text-red-600">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                    >
                        <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"
                        />
                    </svg>
                
                    <p class="flex gap-2 text-xs">
                        <span class="font-medium"> 2.00% </span>
                
                        <span class="text-gray-500"> Since last week </span>
                    </p>
                    </div>
                </article>
                
                <article class="rounded-lg border border-gray-100 bg-white p-6">
                    <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm text-gray-500">Lighthouse Accessibility</p>
                
                        <div class="flex flex-row gap-2 items-end">
                            <p class="text-2xl font-medium text-gray-900">98</p>
                            <div>
                                <div class="inline-flex gap-2 rounded bg-gray-100 p-1 text-gray-600">
                                    <span class="text-xs font-medium"> No change </span>
                                </div>
                            </div>
                        </div>
                    </div>
                
                    <span class="rounded-full bg-blue-100 p-3 text-blue-600">
                        <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-8 w-8"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                        stroke-width="2"
                        >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"
                        />
                        </svg>
                    </span>
                    </div>
                
                    <div class="mt-1 flex gap-1 text-gray-600">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                    >
                        <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"
                        />
                    </svg>
                
                    <p class="flex gap-2 text-xs">
                        <span class="font-medium"> 0% </span>
                
                        <span class="text-gray-500"> Since last week </span>
                    </p>
                    </div>
                </article>
            </section>      
        </main>
    </div>
</AppLayout>